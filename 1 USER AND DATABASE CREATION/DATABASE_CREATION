CREATE TABLE "PROJECTS" (
"PID" NUMBER NOT NULL,
"NAME" VARCHAR2(50) NOT NULL,
"DESCRIPTION" VARCHAR2(50) NOT NULL,
"COMMUNICATION_DATE" DATE NOT NULL,
"REASONING" VARCHAR2(255) NOT NULL,
"PCID" NUMBER NOT NULL,
"PSID" NUMBER NOT NULL,
"COID" NUMBER NOT NULL,
"CID" NUMBER NOT NULL,
constraint PROJECTS_PK PRIMARY KEY ("PID"));

CREATE sequence "PROJECTS_PID_SEQ";

CREATE trigger "BI_PROJECTS_PID"
before insert on "PROJECTS"
for each row
begin
select "PROJECTS_PID_SEQ".nextval into :NEW."PID" from dual;
end;

/
CREATE TABLE "PROJECT_CATEGORY" (
"PCID" NUMBER NOT NULL,
"CATEGORY" VARCHAR2(50) NOT NULL,
constraint PROJECT_CATEGORY_PK PRIMARY KEY ("PCID"));

CREATE sequence "PROJECT_CATEGORY_PCID_SEQ";

CREATE trigger "BI_PROJECT_CATEGORY_PCID"
before insert on "PROJECT_CATEGORY"
for each row
begin
select "PROJECT_CATEGORY_PCID_SEQ".nextval into :NEW."PCID" from dual;
end;

/
CREATE TABLE "PROJECT_STATUS" (
"PSID" NUMBER NOT NULL,
"DESCRIPTION" VARCHAR2(255) NOT NULL,
constraint PROJECT_STATUS_PK PRIMARY KEY ("PSID"));

CREATE sequence "PROJECT_STATUS_PSID_SEQ";

CREATE trigger "BI_PROJECT_STATUS_PSID"
before insert on "PROJECT_STATUS"
for each row
begin
select "PROJECT_STATUS_PSID_SEQ".nextval into :NEW."PSID" from dual;
end;

/
CREATE TABLE "COMPANIES" (
"COID" NUMBER NOT NULL,
"NAME" VARCHAR2(255) NOT NULL,
"PHONE" NUMBER(10) NOT NULL,
"EMAIL" VARCHAR2(50) NOT NULL,
"CCID" NUMBER NOT NULL,
constraint COMPANIES_PK PRIMARY KEY ("COID"));

CREATE sequence "COMPANIES_COID_SEQ";

CREATE trigger "BI_COMPANIES_COID"
before insert on "COMPANIES"
for each row
begin
select "COMPANIES_COID_SEQ".nextval into :NEW."COID" from dual;
end;

/
CREATE TABLE "COMPANY_CATEGORY" (
"CCID" NUMBER NOT NULL,
"DESCRIPTION" VARCHAR2(255) NOT NULL,
constraint COMPANY_CATEGORY_PK PRIMARY KEY ("CCID"));

CREATE sequence "COMPANY_CATEGORY_CCID_SEQ";

CREATE trigger "BI_COMPANY_CATEGORY_CCID"
before insert on "COMPANY_CATEGORY"
for each row
begin
select "COMPANY_CATEGORY_CCID_SEQ".nextval into :NEW."CCID" from dual;
end;

/
CREATE TABLE "CUSTOMERS" (
"CID" NUMBER NOT NULL,
"FIRST_NAME" VARCHAR2(50) NOT NULL,
"LAST_NAME" VARCHAR2(50) NOT NULL,
"PHONE" NUMBER(10) NOT NULL,
"EMAIL" VARCHAR2(50) NOT NULL,
"CUCID" NUMBER NOT NULL,
constraint CUSTOMERS_PK PRIMARY KEY ("CID"));

CREATE sequence "CUSTOMERS_CID_SEQ";

CREATE trigger "BI_CUSTOMERS_CID"
before insert on "CUSTOMERS"
for each row
begin
select "CUSTOMERS_CID_SEQ".nextval into :NEW."CID" from dual;
end;

/
CREATE TABLE "CUSTOMER_CATEGORY" (
"CUCID" NUMBER NOT NULL,
"DESCRIPTION" VARCHAR2(255) NOT NULL,
constraint CUSTOMER_CATEGORY_PK PRIMARY KEY ("CUCID"));

CREATE sequence "CUSTOMER_CATEGORY_CUCID_SEQ";

CREATE trigger "BI_CUSTOMER_CATEGORY_CUCID"
before insert on "CUSTOMER_CATEGORY"
for each row
begin
select "CUSTOMER_CATEGORY_CUCID_SEQ".nextval into :NEW."CUCID" from dual;
end;

/
CREATE TABLE "ASSIGNED_PROJECTS" (
"APID" NUMBER NOT NULL,
"DEADLINE" DATE NOT NULL,
"STARTING_DATE" DATE NOT NULL,
"ENDING_DATE" DATE NOT NULL,
"BUDGET" NUMBER NOT NULL,
"PID" NUMBER NOT NULL,
"EID" NUMBER NOT NULL,
constraint ASSIGNED_PROJECTS_PK PRIMARY KEY ("APID"));

CREATE sequence "ASSIGNED_PROJECTS_APID_SEQ";

CREATE trigger "BI_ASSIGNED_PROJECTS_APID"
before insert on "ASSIGNED_PROJECTS"
for each row
begin
select "ASSIGNED_PROJECTS_APID_SEQ".nextval into :NEW."APID" from dual;
end;

/
CREATE TABLE "PROJECT_STAGES" (
"STID" NUMBER NOT NULL,
"DESCRIPTION" VARCHAR2(50) NOT NULL,
"DEADLINE" DATE NOT NULL,
"STARTING_DATE" DATE NOT NULL,
"ENDING_DATE" DATE NOT NULL,
"APID" NUMBER NOT NULL,
constraint PROJECT_STAGES_PK PRIMARY KEY ("STID"));

CREATE sequence "PROJECT_STAGES_STID_SEQ";

CREATE trigger "BI_PROJECT_STAGES_STID"
before insert on "PROJECT_STAGES"
for each row
begin
select "PROJECT_STAGES_STID_SEQ".nextval into :NEW."STID" from dual;
end;

/
CREATE TABLE "SUBPROJECTS" (
"SPID" NUMBER NOT NULL,
"NAME" VARCHAR2(255) NOT NULL,
"DEADLINE" DATE NOT NULL,
"STARTING_DATE" DATE NOT NULL,
"ENDING_DATE" DATE NOT NULL,
"COST" NUMBER NOT NULL,
"SPSID" NUMBER NOT NULL,
"STID" NUMBER NOT NULL,
constraint SUBPROJECTS_PK PRIMARY KEY ("SPID"));

CREATE sequence "SUBPROJECTS_SPID_SEQ";

CREATE trigger "BI_SUBPROJECTS_SPID"
before insert on "SUBPROJECTS"
for each row
begin
select "SUBPROJECTS_SPID_SEQ".nextval into :NEW."SPID" from dual;
end;

/
CREATE TABLE "SUBPROJECT_STAGES" (
"SPSID" NUMBER NOT NULL,
"DESCRIPTION" VARCHAR2(255) NOT NULL,
constraint SUBPROJECT_STAGES_PK PRIMARY KEY ("SPSID"));

CREATE sequence "SUBPROJECT_STAGES_SPSID_SEQ";

CREATE trigger "BI_SUBPROJECT_STAGES_SPSID"
before insert on "SUBPROJECT_STAGES"
for each row
begin
select "SUBPROJECT_STAGES_SPSID_SEQ".nextval into :NEW."SPSID" from dual;
end;

/
CREATE TABLE "TOPICS" (
"TID" NUMBER NOT NULL,
"DESCRIPTION" VARCHAR2(50) NOT NULL,
"SPID" NUMBER NOT NULL,
constraint TOPICS_PK PRIMARY KEY ("TID"));

CREATE sequence "TOPICS_TID_SEQ";

CREATE trigger "BI_TOPICS_TID"
before insert on "TOPICS"
for each row
begin
select "TOPICS_TID_SEQ".nextval into :NEW."TID" from dual;
end;

/
CREATE TABLE "DOCUMENTS" (
"DID" NUMBER NOT NULL,
"DESCRIPTION" VARCHAR2(255) NOT NULL,
"TID" NUMBER NOT NULL,
constraint DOCUMENTS_PK PRIMARY KEY ("DID"));

CREATE sequence "DOCUMENTS_DID_SEQ";

CREATE trigger "BI_DOCUMENTS_DID"
before insert on "DOCUMENTS"
for each row
begin
select "DOCUMENTS_DID_SEQ".nextval into :NEW."DID" from dual;
end;

/
CREATE TABLE "EMPLOYEES" (
"EID" NUMBER NOT NULL,
"FIRST_NAME" VARCHAR2(50) NOT NULL,
"LAST_NAME" VARCHAR2(50) NOT NULL,
"PHONE" NUMBER(10) NOT NULL,
"EMAIL" VARCHAR2(50) NOT NULL,
"ESID" NUMBER NOT NULL,
"EMSID" NUMBER NOT NULL,
constraint EMPLOYEES_PK PRIMARY KEY ("EID"));

CREATE sequence "EMPLOYEES_EID_SEQ";

CREATE trigger "BI_EMPLOYEES_EID"
before insert on "EMPLOYEES"
for each row
begin
select "EMPLOYEES_EID_SEQ".nextval into :NEW."EID" from dual;
end;

/
CREATE TABLE "EMPLOYEE_SPECIALIZATION" (
"ESID" NUMBER NOT NULL,
"SPECIALIZATION" VARCHAR2(255) NOT NULL,
constraint EMPLOYEE_SPECIALIZATION_PK PRIMARY KEY ("ESID"));

CREATE sequence "EMPLOYEE_SPECIALIZATION_ESID_SEQ";

CREATE trigger "BI_EMPLOYEE_SPECIALIZATION_ESID"
before insert on "EMPLOYEE_SPECIALIZATION"
for each row
begin
select "EMPLOYEE_SPECIALIZATION_ESID_SEQ".nextval into :NEW."ESID" from dual;
end;

/
CREATE TABLE "EMPLOYEE_SALARIES" (
"EMSID" NUMBER NOT NULL,
"START_OF_CONTRACT" DATE NOT NULL,
"CONTRACT_EXPIRY" DATE NOT NULL,
"SALARY" NUMBER NOT NULL,
constraint EMPLOYEE_SALARIES_PK PRIMARY KEY ("EMSID"));

CREATE sequence "EMPLOYEE_SALARIES_EMSID_SEQ";

CREATE trigger "BI_EMPLOYEE_SALARIES_EMSID"
before insert on "EMPLOYEE_SALARIES"
for each row
begin
select "EMPLOYEE_SALARIES_EMSID_SEQ".nextval into :NEW."EMSID" from dual;
end;

/
CREATE TABLE "ASSIGNMENTS" (
"ASID" NUMBER NOT NULL,
"DATE" DATE NOT NULL,
"ESTIMATE" NUMBER NOT NULL,
"HOURS" NUMBER NOT NULL,
"PERFORMANCE" NUMBER(3) NOT NULL,
"EID" NUMBER NOT NULL,
"SPID" NUMBER NOT NULL,
"APID" NUMBER NOT NULL,
constraint ASSIGNMENTS_PK PRIMARY KEY ("ASID"));

CREATE sequence "ASSIGNMENTS_ASID_SEQ";

CREATE trigger "BI_ASSIGNMENTS_ASID"
before insert on "ASSIGNMENTS"
for each row
begin
select "ASSIGNMENTS_ASID_SEQ".nextval into :NEW."ASID" from dual;
end;

/
ALTER TABLE "PROJECTS" ADD CONSTRAINT "PROJECTS_fk1" FOREIGN KEY ("PCID") REFERENCES "PROJECT_CATEGORY"("PCID");
ALTER TABLE "PROJECTS" ADD CONSTRAINT "PROJECTS_fk2" FOREIGN KEY ("PSID") REFERENCES "PROJECT_STATUS"("PSID");
ALTER TABLE "PROJECTS" ADD CONSTRAINT "PROJECTS_fk3" FOREIGN KEY ("CID") REFERENCES "CUSTOMERS"("CID");
ALTER TABLE "PROJECTS" ADD CONSTRAINT "PROJECTS_fk4" FOREIGN KEY ("COID") REFERENCES "COMPANIES"("COID");

ALTER TABLE "COMPANIES" ADD CONSTRAINT "COMPANIES_fk1" FOREIGN KEY ("CCID") REFERENCES "COMPANY_CATEGORY"("CCID");

ALTER TABLE "CUSTOMERS" ADD CONSTRAINT "CUSTOMERS_fk1" FOREIGN KEY ("CUCID") REFERENCES "CUSTOMER_CATEGORY"("CUCID");

ALTER TABLE "ASSIGNED_PROJECTS" ADD CONSTRAINT "ASSIGNED_PROJECTS_fk1" FOREIGN KEY ("PID") REFERENCES "PROJECTS"("PID");
ALTER TABLE "ASSIGNED_PROJECTS" ADD CONSTRAINT "ASSIGNED_PROJECTS_fk2" FOREIGN KEY ("EID") REFERENCES "EMPLOYEES"("EID");

ALTER TABLE "PROJECT_STAGES" ADD CONSTRAINT "PROJECT_STAGES_fk1" FOREIGN KEY ("APID") REFERENCES "ASSIGNED_PROJECTS"("APID");

ALTER TABLE "SUBPROJECTS" ADD CONSTRAINT "SUBPROJECTS_fk1" FOREIGN KEY ("SPSID") REFERENCES "SUBPROJECT_STAGES"("SPSID");
ALTER TABLE "SUBPROJECTS" ADD CONSTRAINT "SUBPROJECTS_fk2" FOREIGN KEY ("STID") REFERENCES "PROJECT_STAGES"("STID");

ALTER TABLE "TOPICS" ADD CONSTRAINT "TOPICS_fk1" FOREIGN KEY ("SPID") REFERENCES "SUBPROJECTS"("SPID");

ALTER TABLE "DOCUMENTS" ADD CONSTRAINT "DOCUMENTS_fk1" FOREIGN KEY ("TID") REFERENCES "TOPICS"("TID");

ALTER TABLE "EMPLOYEES" ADD CONSTRAINT "EMPLOYEES_fk1" FOREIGN KEY ("ESID") REFERENCES "EMPLOYEE_SPECIALIZATION"("ESID");
ALTER TABLE "EMPLOYEES" ADD CONSTRAINT "EMPLOYEES_fk2" FOREIGN KEY ("EMSID") REFERENCES "EMPLOYEE_SALARIES"("EMSID");

ALTER TABLE "ASSIGNMENTS" ADD CONSTRAINT "ASSIGNMENTS_fk1" FOREIGN KEY ("EID") REFERENCES "EMPLOYEES"("EID");
ALTER TABLE "ASSIGNMENTS" ADD CONSTRAINT "ASSIGNMENTS_fk2" FOREIGN KEY ("SPID") REFERENCES "SUBPROJECTS"("SPID");
ALTER TABLE "ASSIGNMENTS" ADD CONSTRAINT "ASSIGNMENTS_fk3" FOREIGN KEY ("APID") REFERENCES "ASSIGNED_PROJECTS"("APID");
